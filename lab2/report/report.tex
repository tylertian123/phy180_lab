% Template source: University of Florida Department of Physics, https://www.phys.ufl.edu/courses/phy4803L/sample-paper.zip

\documentclass[aps,twocolumn,secnumarabic,nobalancelastpage,amsmath,amssymb,nofootinbib]{revtex4}

% Documentclass Options
    % aps, prl, rmp stand for American Physical Society, Physical Review Letters, and Reviews of Modern Physics, respectively
    % twocolumn permits two columns, of course
    % nobalancelastpage doesn't attempt to equalize the lengths of the two columns on the last page
        % as might be desired in a journal where articles follow one another closely
    % amsmath and amssymb are necessary for the subequations environment among others
    % secnumarabic identifies sections by number to aid electronic review and commentary.
    % nofootinbib forces footnotes to occur on the page where they are first referenced
        % and not in the bibliography
    % REVTeX 4 is a set of macro packages designed to be used with LaTeX 2e.
        % REVTeX is well-suited for preparing manuscripts for submission to APS journals.


\usepackage{chapterbib}    % allows a bibliography for each chapter (each labguide has it's own)
\usepackage{color}         % produces boxes or entire pages with colored backgrounds
\usepackage{graphics}      % standard graphics specifications
\usepackage[pdftex]{graphicx}      % alternative graphics specifications
\usepackage{longtable}     % helps with long table options
\usepackage{epsf}          % old package handles encapsulated post script issues
\usepackage{bm}            % special 'bold-math' package
\usepackage{verbatim}			% for comment environment
\usepackage[colorlinks=true]{hyperref}  % this package should be added after all others
                                        % use as follows: \url{https://urldefense.proofpoint.com/v2/url?u=http-3A__web.mit.edu_8.13&d=DwICAg&c=sJ6xIWYx-zLMB3EPkvcnVg&r=D88uS55Tats-jlFQAC1XryFUYq8B7Lk3StFbXzgsiB4&m=Vjrc9Wj5n5rkIDMPJ5VsRj2GyXC3yXmN_zDHey6dVio&s=_byqsJfgO464rVIugNWFPmbBeIYfNiJcGS1fgIwc0m4&e= }
\usepackage{siunitx}
\usepackage{gensymb}
\usepackage{tikz}

% Graph stuff
% Generated by tikzplotlib
\usepackage[utf8]{inputenc}
\usepackage{pgfplots}
\DeclareUnicodeCharacter{2212}{âˆ’}
\usepgfplotslibrary{groupplots,dateplot}
\usetikzlibrary{patterns,shapes.arrows}
\pgfplotsset{compat=newest}

\usetikzlibrary{external}
\tikzexternalize

\usepackage[english]{babel}
\usepackage[autostyle, english=american]{csquotes}
\MakeOuterQuote{"}

%\addtolength\topmargin{-.5\topmargin} %cuts the top margin in half.

%
% And now, begin the document...
% Students should not have to alter anything above this line
%

\begin{document}
\title{Lab 2: Determining the Relationship Between Period and Amplitude}
\author{Tyler Tian}
\date{\today}


\begin{abstract}
TODO: Abstract goes here
\end{abstract}

\maketitle

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Introduction}

TODO: Introduction goes here

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Method}

\subsection{Changes to Data Collection Methods}

As there were no problems identified in the pendulum setup from the last lab, the main structure of the pendulum was
unmodified. However, to accommodate for faster bob velocities, a few changes were made to the rest of the data
collection methods:

\begin{enumerate}
    \item The reflective tape used to marked the pivot was changed into green masking tape. The reflective tape was
          hard to track as it would have a different brightness and colour depending on the viewing and light angle.
          Masking tape allows for more consistent and more accurate tracking due to its uniform colour.
    \item The framerate was increased to 120fps (from 60fps). The larger amplitudes in this lab lead to larger
          velocities and more motion blur, making the tracking less reliable and less accurate. Increasing the framerate
          reduces motion blur and allows for better tracking, leading to smaller time and angle uncertainties.
    \item The light source was changed to a flood light. The previous light source (ceiling light) was not bright or
          focused enough for reliable tracking. A RYOBI ONE+ LED Work Light was used instead of the ceiling light to
          improve tracking.
\end{enumerate}

\begin{figure}[htb]
    \includegraphics[width=0.75\linewidth]{experiment_setup.jpg}
    \caption{The new experiment setup. The red box marks the location of the phone used to record the experiment.}
\end{figure}

The vision tracking program was unmodified (see Appendix \ref{appendix:code}).

\subsection{Data Processing}

To convert from raw time-angle data to amplitude-period data required for this lab, a Python program was used to find
the peaks and valleys of the graph (see Appendix \ref{appendix:code}). Since the data was somewhat noisy, multiple peak
points were averaged to find the time of each peak, and the maximum/minimum of these peak points were taken to find the
peak amplitude.

\begin{figure}[htb]
    \include{procdata.tex}
    \caption{Zoomed-in view of the first 500 raw data points. The orange and green points are the maxima/minima, from
             which period and amplitude are taken.}
\end{figure}

These are the sources of uncertainty resulting from this method:
\begin{enumerate}
    \item Time (period) uncertainty from the camera: The camera can only capture a set number of frames per second and
          has a nonzero shutter speed. The true peak of an oscillation could lie between two data points, creating an
          uncertainty. An upper bound for this uncertainty can be obtained by taking the time between two frames and
          dividing by 2. At 30 data points per second, this results in an uncertainty of \(\pm 0.02\si{s}\).
          (\textit{Note: while the video was recorded in 120fps to reduce motion blur, the actual rate of data
          collection was only 30 data points/second.})
    \item Period uncertainty from noise in the data and inaccuracies in peak finding: Due to noise in the data,
          sometimes the true peak location is not apparent. The code attempts to correct this by taking the mean of all
          peak candidates. The standard deviation of the time values of the peak candidates is used as the uncertainty,
          and experimentally determined to be about \(\pm 0.06\si{s}\).
    \item Amplitude uncertainty caused by the previous two uncertainties: Since the true peak may lie between two data
          points (as per \textcircled{1}) and is influenced by noise (as per \textcircled{2}), this creates an
          uncertainty. As the exact value of this uncertainty is hard to find, it is assumed to be the same in
          percentage as the larger of the two sources above.
    \item Amplitude uncertainty caused by the decay of the pendulum over one oscillation: The pendulum's amplitude
          decays as it swings, creating an uncertainty. By substituting $t = T$ into the pendulum equation, we obtain
          an exponential term of $e^{-\frac{T}{t}} = e^{-\frac{\pi}{Q}}$. In other words, the amplitude decays by a
          factor of $e^{-\frac{\pi}{Q}}$ per oscillation. The relative change in amplitude is then
          $1 - e^{-\frac{\pi}{Q}}$; by substituting in the $Q$ value obtained in the previous lab (about 140), the
          amount of decay is found to be $2.2\%$, so the uncertainty is \(\pm 2\%\).
\end{enumerate}

Additionally, there may be an amplitude uncertainty resulting from imperfect computer vision tracking, but due to the
improved setup, this can be assumed to be much less than the other sources listed above.

\subsection{Data Fitting}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Observations}

TODO: Observations here

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Analysis and Conclusion}

TODO: Analysis here

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\appendix

\section{Source Code}

A comprehensive list of all source code, as well as the \LaTeX{} source for this report, can be found on GitHub at
\url{https://github.com/tylertian123/phys180_lab}, in particular:
\label{appendix:code}
\begin{enumerate}
    \item List individual items here
\end{enumerate}

\end{document}
